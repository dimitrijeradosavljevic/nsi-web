
<ion-content class="ion-padding">

  <ion-row>
    <ion-col class="ion-text-center">
      <h1><ion-text color="primary"><strong>NSI Register</strong></ion-text></h1>
    </ion-col>
  </ion-row>

  <form [formGroup]="registerForm" *ngIf="formActive && !isAuthenticatingIndicator" (ngSubmit)="login()" (keydown.enter)="login()" style="margin-top: 50px">

    <!-- Email -->
    <ion-row class="ion-justify-content-center">
      <ion-col
        sizeLg="4" offsetLg="0"
        sizeMd="6" offsetMd="0"
        sizeSm="10" offsetSm="0"
        sizeXs="12" offsetXs="0"
      >
        <div class="form-group">
          <ion-item>
            <ion-input type="email"
                       placeholder="Email"
                       [autofocus]="true"
                       formControlName="email"
            ></ion-input>
          </ion-item>
          <ion-label
            *ngIf="registerForm.controls.email.touched && registerForm.controls.email.errors?.required"
            class="small-1 ion-margin-left"
            color="danger"
          >Neophodno je uneti Email
          </ion-label>
          <ion-label
            *ngIf="registerForm.controls.email.touched && registerForm.controls.email.errors?.email"
            class="small-1"
            color="danger"
          >Email nije validan
          </ion-label>
        </div>
      </ion-col>
    </ion-row>

    <!-- Password -->
    <ion-row class="ion-justify-content-center">
      <ion-col
        sizeLg="4" offsetLg="0"
        sizeMd="6" offsetMd="0"
        sizeSm="10" offsetSm="0"
        sizeXs="12" offsetXs="0"
      >
        <div class="form-group">
          <ion-item>

            <ion-input #password
                       type="password"
                       placeholder="Lozinka"
                       formControlName="password"
            >
            </ion-input>
            <ion-icon name="eye"
                      slot="end"
                      class="show-right-icon-input pointer"
                      (click)="showPassword(password)"
            ></ion-icon>
          </ion-item>
          <ion-label
            *ngIf="registerForm.controls.password.touched && registerForm.controls.password.errors?.required"
            class="small-1 "
            color="danger"

          >Neophodno je uneti lozinku
          </ion-label>
          <ion-label
            *ngIf="registerForm.controls.password.touched && registerForm.controls.password.errors?.minlength"
            class="small-1 "
            color="danger"
          >Lozinka mora imati minimum 6 karaktera
          </ion-label>
        </div>
      </ion-col>
    </ion-row>

    <ion-row class="ion-justify-content-center">
      <ion-col
        sizeLg="4" offsetLg="0"
        sizeMd="6" offsetMd="0"
        sizeSm="10" offsetSm="0"
        sizeXs="12" offsetXs="0"
        class="ion-text-end"
      >
        <ion-label class="pointer" color="primary" routerLink="/login">Login</ion-label>
      </ion-col>
    </ion-row>

    <!-- Login btn-->
    <ion-row class="ion-justify-content-center ion-margin-vertical">
      <ion-col
        sizeLg="6"
        sizeMd="8"
        sizeSm="10"
        sizeXs="12"
        class="ion-text-center">
        <ion-button color="primary" type="submit" [disabled]="registerForm.invalid">Prijavi se</ion-button>
      </ion-col>
    </ion-row>

  </form>


  <ion-row class="ion-justify-content-center ion-margin-vertical" *ngIf="isAuthenticatingIndicator">
    <ion-spinner color="primary" name="circles"></ion-spinner>
  </ion-row>

</ion-content>
